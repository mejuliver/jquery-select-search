{"version":3,"sources":["src/index.js"],"names":["window","jQuery","$","fn","jselect_search","options","settings","extend","placeholder","fillable","searchable","each","attr","addClass","append","index","_default_text","find","text","val","closest","on","e","preventDefault","hasClass","removeClass","show","v","toLowerCase","hide","filter","n","indexOf","fadeIn","keyCode","which","document","dp","is","target","has","length","prop","trigger","html","stopPropagation"],"mappings":"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","file":"src.cc5a032b.js","sourceRoot":"..","sourcesContent":["import './style.scss';\r\n\r\nif ('undefined' != typeof window.jQuery ) {\r\n\r\n    $.fn.jselect_search = function ( options ) {\r\n      let settings = $.extend({\r\n            placeholder : 'Search here',\r\n            fillable : false,\r\n            searchable : true\r\n            }, options );\r\n\r\n      return $(this).each(function(){\r\n        let placeholder = ( typeof $(this).attr('data-placeholder')  != 'undefined' ?  $(this).attr('data-placeholder') : settings.placeholder );\r\n        $(this).addClass('select-search')\r\n          .append( `<a href=\"#\" class=\"trigger\"></a>\r\n            <div class=\"sub-wrapper\"><div class=\"select-search-sub\">\r\n              ${( settings.searchable ? '<input class=\"select-search-input\" type=\"text\" placeholder=\"'+placeholder+'\" name=\"select_search_'+$(this).index()+'\">' : '')}\r\n              <ul></ul>\r\n            <div></div>`);\r\n\r\n        let _default_text = $(this).find('select option:selected').text();\r\n\r\n        $(this).find('.trigger').text(_default_text);\r\n\r\n        $(this).find('select option').each(function(){\r\n          if( $(this).val() != '' ){\r\n            $(this).closest('.select-search').find('.select-search-sub ul').append('<li><a href=\"#\" data-value=\"'+$(this).val()+'\">'+$(this).text()+'</a></li>');\r\n          }\r\n        });\r\n        $(this).find('.trigger').on('click',function(e){\r\n          e.preventDefault();\r\n          if( $(this).closest('.select-search').hasClass('active') ){\r\n            $('.select-search.active').removeClass('active')\r\n          }else{\r\n            $(this).closest('.select-search').find('.select-search-sub li').show();\r\n            $(this).closest('.select-search').addClass('active').find('.select-search-sub input').val('');\r\n            \r\n          }\r\n        });\r\n\r\n        $(this).find('.select-search-sub input').on('input', function() {\r\n            let v = $(this).val().toLowerCase();\r\n            $(this).closest('.select-search').find('.select-search-sub ul li').hide().filter(function() {\r\n                let n = $(this).find(\"a\").text().toLowerCase();\r\n                return n.indexOf(v) > -1;\r\n          }).fadeIn(200);\r\n        });\r\n\r\n        $(this).find('.select-search-sub input').on('keydown',function(e){\r\n          if ( (e.keyCode == 32 || e.which == 13 || e.keyCode == 13 ) && settings.fillable ) {\r\n            $(this).closest('.select-search').find('.trigger').text($(this).val());\r\n            $(this).closest('.select-search').find('.select-search-sub ul').append('<li><a href=\"#\" data-value=\"'+$(this).val()+'\">'+$(this).val()+'</a></li>');\r\n            $(this).closest('.select-search').find('select').append('<option value=\"'+$(this).val()+'\">'+$(this).val()+'</option>').val($(this).val());\r\n            $('.select-search.active').removeClass('active')\r\n          }\r\n        });\r\n      });\r\n    };\r\n\r\n    //event click j menu listener\r\n    $(document).on(\"mousedown touchstart\", function(e) {\r\n        var dp = $('.select-search-sub:visible,.clear-btn');\r\n        if (!dp.is(e.target) && dp.has(e.target).length === 0) {\r\n            $('.select-search.active').removeClass('active')\r\n        }\r\n    });\r\n\r\n    $(document).on('click','.select-search-sub ul li a',function(e){\r\n        e.preventDefault();\r\n        $(this).closest('.select-search').find('select option[value=\"'+$(this).attr('data-value')+'\"]').prop('selected',true).closest('select').trigger('change');\r\n        $('.select-search.active').removeClass('active')\r\n        .find('.trigger').html('<span class=\"clear-btn\"></span> '+$(this).text()).find('span.clear-btn').on('click',function(e){\r\n          e.stopPropagation();\r\n          $(this).closest('.select-search').find('select').val('');\r\n          $(this).closest('.trigger').html( $(this).closest('.select-search').find('select option[value=\"\"]').text());\r\n        });\r\n      });\r\n}"]}